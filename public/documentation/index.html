<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <header class="rows">
        <h1>Student API</h1>
        <nav class="navlinks">
            <a href="../index.html">Home</a>
            <a href="#">API Documentation</a>
        </nav>
    </header>
    <noscript>You need javascript enabled to be able to view this page</noscript>
    <main class="cols">
        <div class="cols page-section-head">
            <h2>NOTICE: PLEASE READ INSTRUCTIONS BEFORE PROCEEDING TO USE API</h2>
            <p class="brief-text">
                <ol>
                    <li>Replace <i class="highlight">...</i> with <i class="highlight">https://j8etyxmihl.execute-api.us-east-1.amazonaws.com/production</i></li>
                    <li>Strings wrapped in square brackets <i class="highlight">[...]</i> are optional. Not adding them would not affect the API in any way.</li>
                </ol>
            </p>
        </div>

        <div class="cols page-section">
            <!-- <div>Option 1</div> -->
            <div class="rows" style="align-items: center;">
                <span class="request-method">GET</span>
                <h2>.../student <i class="insig">[?limit=&lt;number of records&gt;]</i></h2>
            </div>
            
            <p class="brief-text">Returns an array of all student records from the database. Optionally, the 'limit' parameter can be used to limit the amount of records fetched. It takes a value equal to 1 and greater.</p>

            <details open>
                <summary>View Example code</summary>
                <code class="example-block">
                    <pre>
    <i class="comment">// Using Javascript Fetch API</i>

    fetch(".../student?limit=2").then(async response => {
        let data = await response.json();
        console.log(data) <i class="comment">// returns array with two objects</i>
    }).catch(error => {
        console.error(error);
    });

    <i class="comment">// Another example</i>
    fetch('.../student').then(async response => {
        let data = await response.json();
        console.log(data) <i class="comment">// returns array with all student record in database</i>
    }).catch(error => {
        console.error(error);
    });
                    </pre>
                </code>
            </details>
        </div>

        <div class="cols page-section">
            <div class="rows" style="align-items: center;">
                <span class="request-method">POST</span>
                <h2>.../student/create</h2>
            </div>
            
            <p class="brief-text">Inserts a new student record into the database. The data to be inserted is to be specified in the body of a POST request to this endpoint. </p>
            
            <details>
                <summary>View Example code</summary>
                <code class="example-block">
                    <pre>
    <i class="comment">// Using Javascript Fetch API</i>

    let apiOptions = {
        method: 'POST',
        body: JSON.stringify({
            firsname: 'John', 
            lastname: 'Cena', 
            email: 'youremail@email.com', 
            phone: '0123456789'
        }),
        headers: {
            'Content-Type': 'application/json;charset=utf8'
        }
    };

    fetch('.../student/create', apiOptions).then(async response => {
        let data = await response.json();
        console.log(data) <i class="comment">// returns array with two objects</i>
    }).catch(error => {
        console.error(error);
    });
                    </pre>
                </code>
            </details>
        </div>

        <div class="cols page-section">
            <div class="rows" style="align-items: center;">
                <span class="request-method">POST</span>
                <h2>.../student/update/&lt;ID of student&gt;</h2>
            </div>
            
            <p class="brief-text">Updates an existing student record with an id of &lt;ID of student&gt; with the data provided in the body of the POST request. Note: 'ID of Student' (uuid) is a unique 16-character string autogenerated by our server when a new student record is inserted. </p>

            <details>
                <summary>View Example code</summary>
                <code class="example-block">
                    <pre>
    <i class="comment">// Using Javascript Fetch API</i>

    let studentRecords = [
        {
            uuid: 'tHsisWesxbrTTeQs',
            firstname: 'James',
            lastname: 'Sylvester',
            email: 'jamiesyl@gmail.com',
            phone: '+2349009660534'
        }, {
            uuid: 'tHseaFesxbrTYeQs',
            firstname: 'Fredd',
            lastname: 'Harden',
            email: 'hardened@ymail.com',
            phone: '+2349009660534'
        }, {
            uuid: 'tHscsUesvbrOOeQs',
            firstname: 'Christian',
            lastname: 'Bolton',
            email: 'chrisB@gmail.com',
            phone: '+2349009660534'
        }
    ];

    let apiOptions = {
        method: 'DELETE'
    };

    fetch('.../student/delete/tHscsUesvbrOOeQs', apiOptions).then(async response => { <i class="comment">// Deletes Christian Bolton's record</i>
        let data = await response.json();
        console.log(data) <i class="comment">// returns operation result object</i>
    }).catch(error => {
        console.error(error);
    });
                    </pre>
                </code>
            </details>
        </div>

        <div class="cols page-section">
            <div class="rows" style="align-items: center;">
                <span class="request-method">DELETE</span>
                <h2>.../student/delete/&lt;ID of student&gt;</h2>
            </div>
            
            <p class="brief-text">Deletes a student record with an id of &lt;ID of student&gt;. 'ID of Student' (uuid) is a unique 16-character string autogenerated by our server when a new student record is inserted. </p>

            <details>
                <summary>View Example code</summary>
                <code class="example-block">
                    <pre>
    <i class="comment">// Using Javascript Fetch API</i>

    let studentRecords = [
        {
            uuid: 'tHsisWesxbrTTeQs',
            firstname: 'James',
            lastname: 'Sylvester',
            email: 'jamiesyl@gmail.com',
            phone: '+2349009660534'
        }, {
            uuid: 'tHseaFesxbrTYeQs',
            firstname: 'Fredd',
            lastname: 'Harden',
            email: 'hardened@ymail.com',
            phone: '+2349009660534'
        }, {
            uuid: 'tHscsUesvbrOOeQs',
            firstname: 'Christian',
            lastname: 'Bolton',
            email: 'chrisB@gmail.com',
            phone: '+2349009660534'
        }
    ];

    let apiOptions = {
        method: 'DELETE'
    };

    fetch('.../student/delete/tHscsUesvbrOOeQs', apiOptions).then(async response => { <i class="comment">// Deletes Christian Bolton's record</i>
        let data = await response.json();
        console.log(data) <i class="comment">// returns operation result object</i>
    }).catch(error => {
        console.error(error);
    });
                    </pre>
                </code>
            </details>
        </div>
    </main>

    <footer class="cols">
        <div class="top cols">
            <big>Contact Me</big>
            <div class="rows" style="align-items: center;">
                <span class="rows" style="align-items: center;">Email Address: <a href="mailto:admissions@ghschools.online">tehmi2000@gmail.com</a></span>
                <span class="rows" style="align-items: center;">Phone: <a href="tel:+2349059620514">+234 905 962 0514</a> (Main line)</span>
                <span class="rows" style="align-items: center;">Alt. 1: <a href="tel:+2348021444047">+234 802 144 4047</a></span>
                <span class="rows" style="align-items: center;">LinkedIn: <a href="mailto:admissions@ghschools.online">admissions@ghschools.online</a></span>
            </div>
        </div>
        <div class="bottom cols">
            <span>Student API 2020, All rights reserved</span>
            <span class="rows" style="align-items: center;">Powered by<a href="https://learnira.org">Serverless</a></span>
        </div>
    </footer>
</body>
</html>